(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{216:function(e,t,n){e.exports=n(390)},263:function(e,t,n){e.exports=n.p+"static/media/awbeci.7aa7a68a.png"},309:function(e,t,n){},382:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},390:function(e,t,n){"use strict";n.r(t);n(217);var a,r,c,o,i=n(199),u=(n(125),n(81)),l=n(0),s=n.n(l),m=n(8),d=n.n(m),p=(n(152),n(114)),h=n(15),f=n(19),E=n(32),b=n(31),g=n(33),O=n(35),v=n(78),y=n(184),j=n(63),S=n(34),k=n(177),N=n(96),w=n(185),_=n.n(w),A=n(198),x=n(200),U=n(186),R=n.n(U),T=n(36),M=n(20),I=n(393),C=n(392),P={SAVE_MENU_INDEX:"SAVE_MENU_INDEX",SAVE_MENU_COLLAPSED:"SAVE_MENU_COLLAPSED",GET_MENUS:"GET_MENUS",SET_LOADING:"SET_LOADING"},D=Object(C.a)((a={},Object(M.a)(a,P.SAVE_MENU_INDEX,function(e){return{keyPath:e}}),Object(M.a)(a,P.SAVE_MENU_COLLAPSED,function(e){return{collapsed:e}}),Object(M.a)(a,P.SET_LOADING,function(e){return{loading:e}}),a)),L=Object(I.a)((r={},Object(M.a)(r,P.SAVE_MENU_INDEX,function(e,t){var n=t.payload.keyPath,a=n[0],r=null;return 2===n.length&&(r=n[1]),Object.assign({},e,{index:a,subIndex:r})}),Object(M.a)(r,P.SAVE_MENU_COLLAPSED,function(e,t){var n=t.payload.collapsed;return Object.assign({},e,{collapsed:n})}),Object(M.a)(r,P.GET_MENUS,function(e,t){var n=t.menus;return Object.assign({},e,{menus:n})}),Object(M.a)(r,P.SET_LOADING,function(e,t){var n=t.payload.loading;return Object.assign({},e,{loading:n})}),r),{index:"126",subIndex:"",collapsed:!1,menus:[],loading:!1}),G={AUTH_REQUEST:"AUTH_REQUEST",AUTH_SUCCESS:"AUTH_SUCCESS",AUTH_FAILURE:"AUTH_FAILURE",SIGN_OUT:"SIGN_OUT",CHANGE_PASSWORD:"CHANGE_PASSWORD"},H=Object(C.a)((c={},Object(M.a)(c,G.AUTH_REQUEST,function(e){return{username:e.username,password:e.password}}),Object(M.a)(c,G.AUTH_SUCCESS,function(e){return{data:e}}),Object(M.a)(c,G.AUTH_FAILURE,function(){return{}}),Object(M.a)(c,G.SIGN_OUT,function(){return{}}),Object(M.a)(c,G.CHANGE_PASSWORD,function(e,t){return{oldPassword:e,newPassword:t}}),c)),z=n(68),V=n.n(z),J=Object(I.a)((o={},Object(M.a)(o,G.AUTH_SUCCESS,function(e,t){return Object.assign({},e,{user:t.data.user,token:t.data.token})}),Object(M.a)(o,G.SIGN_OUT,function(e,t){return Object.assign({},e,{user:null,token:""})}),o),{user:null,token:""}),F=n(42),W=n.n(F),X=n(24),q=n(25),K=n(188),Q=n.n(K),B={company:"Awbeci",title:"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u5e73\u53f0",subTitle:"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u5e73\u53f0",enTitle:"Awbeci Manage platform",copyright:"Copyright \xa9 2019 Awbeci All Rights Reserved.",logo:n(263),host:"http://10.0.91.153",port:"8088",persist:"root"},Z=new(function(){function e(){var t=this;Object(h.a)(this,e),this.setToken=function(e){t.instance.defaults.headers.common.Authorization=e},this.authentication=function(e){var t=JSON.parse(e);t.response&&401===t.response.status&&(u.a.error("\u7528\u6237\u8ba4\u8bc1\u51fa\u9519\uff0c\u6b63\u5728\u8df3\u8f6c\u767b\u5f55\u9875\u9762\uff01"),setTimeout(function(){localStorage.removeItem("persist:".concat(B.persist)),window.location.href="/login"},1500))},this.instance=Q.a.create({baseURL:"".concat(B.host,":").concat(B.port)})}return Object(f.a)(e,[{key:"upload",value:function(e,t){var n=this;return new Promise(function(a,r){n.instance.post(e,t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){var t=e.data;a(t)}).catch(function(e){var t=JSON.stringify(e);n.authentication(t),r(t)})})}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,r){t.instance.get(e,{params:Object(j.a)({},n)}).then(function(e){var t=e.data;a(t)}).catch(function(e){var n=JSON.stringify(e);t.authentication(n),r(n)})})}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,r){t.instance.delete(e,{params:Object(j.a)({},n)}).then(function(e){var t=e.data;a(t)}).catch(function(e){var n=JSON.stringify(e);t.authentication(n),r(n)})})}},{key:"post",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,r){t.instance.post(e,Object(j.a)({},n)).then(function(e){var t=e.data;a(t)}).catch(function(n){var a=JSON.stringify(n);e.includes("login")?r(a):t.authentication(a)})})}},{key:"put",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,r){t.instance.put(e,Object(j.a)({},n)).then(function(e){var t=e.data;a(t)}).catch(function(e){var n=JSON.stringify(e);t.authentication(n),r(n)})})}},{key:"patch",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,r){t.instance.patch(e,Object(j.a)({},n)).then(function(e){var t=e.data;a(t)}).catch(function(e){var n=JSON.stringify(e);t.authentication(n),r(n)})})}}]),e}()),$={USER_TREERESOURCE:"/user/treeResource",LOGIN:"/login/"},Y=(new function e(){Object(h.a)(this,e),this.login=function(e){return Z.post($.LOGIN,e)},this.getTree=function(e){return Z.get("".concat($.USER_TREERESOURCE,"?deepNum=10&pid=0"))}},W.a.mark(re)),ee=W.a.mark(ce),te=W.a.mark(oe),ne=W.a.mark(ie);function ae(e){localStorage.removeItem(e)}function re(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.d)({type:G.AUTH_SUCCESS,data:{user:{name:"Awbeci"},token:"awbeci token"}});case 2:return e.next=4,Object(X.d)({type:P.GET_MENUS,menus:[{icon:"radar-chart",id:1,isShow:"1",resourceName:"\u7efc\u5408\u6001\u52bf",url:"/"},{icon:"fund",id:2,isShow:"1",resourceName:"\u90e8\u95e8\u7ba1\u7406",url:"/departmentManage"},{icon:"table",id:3,isShow:"1",resourceName:"\u7528\u6237\u7ba1\u7406",url:"/userManage"}]});case 4:return e.next=6,Object(X.d)({type:P.SAVE_MENU_INDEX,payload:{keyPath:["1"]}});case 6:return e.next=8,Object(X.d)(Object(q.d)("/"));case 8:case"end":return e.stop()}},Y)}function ce(e){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.b)(ae,"token");case 2:return e.next=4,Object(X.b)(ae,"persist:".concat(B.persist));case 4:return e.next=6,Object(X.d)({type:P.SAVE_MENU_INDEX,payload:{keyPath:["126"]}});case 6:return e.next=8,Object(X.d)({type:P.SAVE_MENU_COLLAPSED,payload:{collapsed:!1}});case 8:return e.next=10,Object(X.d)({type:P.GET_MENUS,menus:[]});case 10:return e.next=12,Object(X.d)(Object(q.d)("/login"));case 12:case"end":return e.stop()}},ee)}function oe(e){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(X.b)(re);case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),u.a.info("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"),e.next=10,Object(X.b)(ae,"token");case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}},te,null,[[0,5,10,12]])}function ie(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.e)(G.AUTH_REQUEST,oe);case 2:return e.next=4,Object(X.e)(G.SIGN_OUT,ce);case 4:case"end":return e.stop()}},ne)}var ue=W.a.mark(le);function le(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)([Object(X.c)(ie)]);case 2:case"end":return e.stop()}},ue)}n(190);var se,me=Object(T.a)(),de=Object(k.a)(me),pe=Object(x.a)(),he=[pe,de,R.a],fe={0:function(e){return Object(j.a)({},e,{device:void 0})},2:function(e){return{device:e.device}}},Ee={transforms:[_()({secretKey:"hiynn",onError:function(e){}})],key:B.persist,storage:A.a,version:2,migrate:Object(N.createMigrate)(fe,{debug:!1})},be=Object(N.persistReducer)(Ee,(se=me,Object(S.c)({router:Object(v.b)(se),layoutPageReducer:L,authReducer:J})));var ge,Oe,ve=n(16),ye=n(69),je=(n(141),n(52)),Se=(n(391),n(85)),ke=(n(306),n(150)),Ne=(n(123),n(13)),we=(n(309),ge=Object(O.c)(null,{authRequest:H.authRequest}),Object(ve.g)(Oe=ge(Oe=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||n.props.authRequest({username:t.userName,password:t.password})})},n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement("div",{className:"login-container"},s.a.createElement("div",{className:"block-modal"}),s.a.createElement("div",{className:"lc-content"},s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("div",{className:"top-title"},s.a.createElement("div",{className:"logo-wrapper"},s.a.createElement("img",{src:B.logo,alt:""})),s.a.createElement("span",{className:"title"},"".concat(B.company).concat(B.subTitle)),s.a.createElement("div",{className:"welcome-wrapper"},s.a.createElement("span",{className:"welcome"},"\u6b22\u8fce\u767b\u5f55"))),s.a.createElement(Se.a,{onSubmit:this.handleSubmit,className:"login-form"},s.a.createElement(Se.a.Item,null,e("userName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]})(s.a.createElement(ke.a,{style:{width:"100%"},size:"large",prefix:s.a.createElement(Ne.a,{type:"user",style:{fontSize:"2rem",color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),s.a.createElement(Se.a.Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(s.a.createElement(ke.a.Password,{size:"large",prefix:s.a.createElement(Ne.a,{type:"lock",style:{fontSize:"2rem",color:"rgba(0,0,0,.25)"}}),placeholder:"\u5bc6\u7801"}))),s.a.createElement(Se.a.Item,null,s.a.createElement(je.a,{size:"large",type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55"))),s.a.createElement("div",{className:"copyright"},s.a.createElement("span",null,B.copyright)))))}}]),t}(l.Component))||Oe)||Oe),_e=Se.a.create({name:"login"})(we),Ae=(n(208),n(154)),xe=(n(367),n(196)),Ue=(n(155),n(55)),Re=(n(214),n(84)),Te=n(91);var Me,Ie,Ce,Pe,De=function(e){return s.a.createElement("div",{style:{width:"100%",height:"100%",margin:"auto",paddingTop:50,textAlign:"center"}},s.a.createElement(p.a,{tip:"\u52a0\u8f7d\u4e2d...",size:"large"}))},Le=Ue.b.SubMenu,Ge=Object(O.c)(function(e){return{layoutPageReducer:e.layoutPageReducer,authReducer:e.authReducer}},{saveMenuIndex:D.saveMenuIndex})(Me=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).clickSidebarMenu=function(e){e.item,e.key;var t=e.keyPath;n.props.saveMenuIndex(t)},n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"hasMenus",value:function(e){var t=!1;return e.map(function(e){"html"==e.resourceType&&(t=!0)}),t}},{key:"render",value:function(){var e=this,t=this.props,n=t.layoutPageReducer,a=(t.authReducer,n.menus),r=s.a.createElement(De,null);return a&&a.length>0&&(r=a.map(function(t){return t.children&&e.hasMenus(t.children)?s.a.createElement(Le,{key:t.id,title:s.a.createElement("div",null,s.a.createElement(Ne.a,{type:t.icon}),s.a.createElement("span",null,t.resourceName))},t.children.map(function(e){return"html"==e.resourceType&&"1"==e.isShow?s.a.createElement(Ue.b.Item,{key:e.id},s.a.createElement(ye.b,{to:e.url},e.resourceName)):null})):"1"==t.isShow&&s.a.createElement(Ue.b.Item,{key:t.id},s.a.createElement(ye.b,{to:t.url},s.a.createElement(Ne.a,{type:t.icon}),s.a.createElement("span",null,t.resourceName)))})),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ue.b,{theme:"light",defaultSelectedKeys:[n.index],selectedKeys:[n.index],defaultOpenKeys:[n.subIndex],mode:"inline",className:"sider-menu-container",inlineCollapsed:n.collapsed,onClick:this.clickSidebarMenu},r))}}]),t}(l.Component))||Me,He=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"404 no found ")}}]),t}(l.Component),ze=(l.Component,n(195)),Ve=[{key:"1",name:"\u9996\u9875",path:"/",exact:!0,component:Object(ze.a)(function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,477))},{fallback:s.a.createElement(De,null)})}],Je=(n(382),Re.a.Header),Fe=Re.a.Content,We=Re.a.Sider,Xe=(Ie=Object(O.c)(function(e){return{layoutPageReducer:e.layoutPageReducer,authReducer:e.authReducer}},{saveMenuCollapsed:D.saveMenuCollapsed,saveMenuIndex:D.saveMenuIndex,signOut:H.signOut}),Object(ve.g)(Ce=Ie(Ce=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).toggle=function(){n.props.saveMenuCollapsed(!n.props.layoutPageReducer.collapsed)},n.clickDropdownMenu=function(e){e.item;var t=e.key;e.keyPath;"signout"===t?n.props.signOut():"password"===t&&(n.props.saveMenuIndex([""]),n.props.history.push("/system/password"))},n.state={},n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.layoutPageReducer,n=e.authReducer,a=s.a.createElement(Ue.b,{onClick:this.clickDropdownMenu,style:{lineHeight:"63px",fontSize:"14px"}},s.a.createElement(Ue.b.Item,{key:"password",style:{width:"150px"}},s.a.createElement(Ne.a,{type:"setting"}),s.a.createElement("span",null,"\u4fee\u6539\u5bc6\u7801")),s.a.createElement(Ue.b.Item,{key:"signout",style:{width:"150px"}},s.a.createElement(Ne.a,{type:"logout"}),s.a.createElement("span",null,"\u9000\u51fa\u767b\u5f55")));return s.a.createElement(Re.a,{className:"layout-container"},s.a.createElement(We,{theme:"light",trigger:null,collapsible:!0,collapsed:t.collapsed,width:218,breakpoint:"lg",className:"sider-container"},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{src:B.logo,width:"32",alt:""}),t.collapsed?"":s.a.createElement("span",{className:"title"},B.company)),s.a.createElement(Ge,null)),s.a.createElement(Re.a,{className:"layout-page-right-container"},s.a.createElement(Je,{className:"right-header"},s.a.createElement("div",{className:"right-header-left"},s.a.createElement(Ne.a,{className:"trigger",type:t.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),s.a.createElement("span",null,B.title)),s.a.createElement("div",{className:"right-header-right"},s.a.createElement(Ae.a,{overlay:a,placement:"bottomRight",className:"right-header-right-dropdown"},s.a.createElement("div",null,s.a.createElement(xe.a,{size:"default",style:{backgroundColor:"#87d068"},icon:"user"}),s.a.createElement("span",{style:{marginLeft:8}},n.user?n.user.name:"\u7528\u6237"))))),s.a.createElement(Fe,{className:"layout-page-right-content"},s.a.createElement(ve.d,null,n.token?Object(Te.a)(Ve):s.a.createElement(ve.a,{to:"/login"})))))}}]),t}(l.Component))||Ce)||Ce),qe=Object(O.c)(function(e){return{store:e}})(Pe=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(f.a)(t,[{key:"Authentication",value:function(){return this.props.store.authReducer.token?s.a.createElement(ve.a,{to:"/"}):s.a.createElement(_e,null)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye.a,null,s.a.createElement(ve.d,null,s.a.createElement(ve.b,{path:"/login",render:function(){return e.Authentication()}}),s.a.createElement(ve.b,{path:"/",component:Xe}),s.a.createElement(ve.b,{component:He}))))}}]),t}(l.Component))||Pe,Ke=function(e){var t=Object(S.e)(be,e,Object(S.d)(S.a.apply(void 0,he))),n=Object(N.persistStore)(t);return pe.run(le),{persistor:n,store:t}}(),Qe=Ke.persistor,Be=Ke.store;Be.subscribe(function(){});var Ze=function(e){function t(e){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).call(this,e))}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){s.a.createContext(null);return s.a.createElement(O.a,{store:Be},s.a.createElement(y.a,{loading:s.a.createElement(p.a,null),persistor:Qe},s.a.createElement(v.a,{history:me},s.a.createElement(qe,null))))}}]),t}(l.Component),$e=n(197),Ye=n.n($e);n(383),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(384),n(385),n(386);var et=n(71),tt=n.n(et),nt=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,null,[{key:"hostPort",value:function(){return"".concat(B.host,":").concat(B.port)}},{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(e.hostPort()).concat(t);tt.a.mock(a,"get",n)}},{key:"post",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(e.hostPort()).concat(t);tt.a.mock(a,"post",n)}},{key:"put",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(e.hostPort()).concat(t);tt.a.mock(a,"put",n)}},{key:"delete",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(e.hostPort()).concat(t);tt.a.mock(a,"delete",n)}}]),e}(),at=tt.a.Random,rt={"data|1-10":[{"id|+3":1,"name|3":"zhangwei",avator:at.image("550x530","#123456","#fff","\u8fd9\u662f\u4e00\u5f20\u56fe\u7247"),birthday:at.date("yyyy-MM-dd"),email:at.email(),"height|123.1":88,"isTrue|1":!0,contact:{name:"zhangwei",sex:"\u7537",regexp1:/[a-z][A-Z][0-9]/,regexp2:/\w\W\s\S\d\D/,regexp3:/\d{5,10}/},"childrens|1-5":[{"num|1-100":1,"age|1-110":1}],note:at.paragraph(),cnote:at.cparagraph()}]};new(function(){function e(){Object(h.a)(this,e),this.initMock()}return Object(f.a)(e,[{key:"initMock",value:function(){nt.get($.API_TEST,rt),nt.post($.USER_ORG_INSERT,rt)}}]),e}());V.a.locale("zh-cn"),u.a.config({duration:2,maxCount:1}),d.a.render(s.a.createElement(i.a,{locale:Ye.a},s.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[216,1,2]]]);
//# sourceMappingURL=main.1a788d07.chunk.js.map